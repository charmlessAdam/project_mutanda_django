# Apache configuration for Django on Lightsail
# Place this in: /opt/bitnami/apache2/conf/bitnami/bitnami-apps-prefix.conf

<VirtualHost *:80>
    ServerName YOUR-DOMAIN-OR-IP
    DocumentRoot /opt/bitnami/apache2/htdocs/django_project
    
    WSGIDaemonProcess django-app python-path=/opt/bitnami/apache2/htdocs/django_project python-home=/opt/bitnami/python
    WSGIProcessGroup django-app
    WSGIScriptAlias / /opt/bitnami/apache2/htdocs/django_project/project_mutanda_django/wsgi.py
    
    <Directory "/opt/bitnami/apache2/htdocs/django_project">
        WSGIProcessGroup django-app
        WSGIApplicationGroup %{GLOBAL}
        Require all granted
    </Directory>
    
    # Static files
    Alias /static /opt/bitnami/apache2/htdocs/django_project/staticfiles
    <Directory "/opt/bitnami/apache2/htdocs/django_project/staticfiles">
        Require all granted
    </Directory>
    
    # Media files
    Alias /media /opt/bitnami/apache2/htdocs/django_project/media
    <Directory "/opt/bitnami/apache2/htdocs/django_project/media">
        Require all granted
    </Directory>
    
    # Logs
    ErrorLog /opt/bitnami/apache2/logs/django_error.log
    CustomLog /opt/bitnami/apache2/logs/django_access.log combined
</VirtualHost>

# HTTPS configuration (uncomment after SSL setup)
# <VirtualHost *:443>
#     ServerName YOUR-DOMAIN-OR-IP
#     DocumentRoot /opt/bitnami/apache2/htdocs/django_project
#     
#     WSGIDaemonProcess django-app-ssl python-path=/opt/bitnami/apache2/htdocs/django_project python-home=/opt/bitnami/python
#     WSGIProcessGroup django-app-ssl
#     WSGIScriptAlias / /opt/bitnami/apache2/htdocs/django_project/project_mutanda_django/wsgi.py
#     
#     <Directory "/opt/bitnami/apache2/htdocs/django_project">
#         WSGIProcessGroup django-app-ssl
#         WSGIApplicationGroup %{GLOBAL}
#         Require all granted
#     </Directory>
#     
#     Alias /static /opt/bitnami/apache2/htdocs/django_project/staticfiles
#     <Directory "/opt/bitnami/apache2/htdocs/django_project/staticfiles">
#         Require all granted
#     </Directory>
#     
#     SSLEngine on
#     SSLCertificateFile /path/to/your/certificate.crt
#     SSLCertificateKeyFile /path/to/your/private.key
# </VirtualHost>